<div class="results-container">
  <h1>🔍 Resultados da Busca</h1>

  <!-- Loader -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>

  <!-- Mensagem de erro -->
  <p *ngIf="error" class="error">{{ error }}</p>

  <!-- Lista de usuários -->
  <ng-container *ngIf="!!users && users.length > 0; else noResults">
    <div class="user-grid">
      <mat-card *ngFor="let user of users" class="user-card">
        <!-- Avatar -->
        <img mat-card-image 
          [src]="user.avatar_url" 
          [alt]="'Foto de ' + (user.name ? user.name : user.login)" 
          class="user-avatar" />

        <!-- Informações do usuário -->
        <mat-card-header>
          <mat-card-title>
            {{ user.name ? user.name : user.login }}
          </mat-card-title>
          <mat-card-subtitle>{{ user.login }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <!-- Biografia -->
          <p>{{ user.bio }}</p>

          <!-- Localização -->
          <p>{{ user.location }}</p>

          <!-- Estatísticas -->
          <div class="user-stats">
            <span>👥 Seguidores: {{ user.followers }}</span>
            <span>🔄 Seguindo: {{ user.following }}</span>
            <span>⭐ Repositórios Públicos: {{ user.public_repos }}</span>
          </div>
        </mat-card-content>

        <!-- Botão para acessar repositórios -->
        <mat-card-actions>
          <button mat-button color="primary" (click)="navigateToRepository(user)">
            Ver Repositórios
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </ng-container>

  <!-- Caso não tenha resultados -->
  <ng-template #noResults>
    <p class="no-results">Nenhum usuário encontrado.</p>
  </ng-template>
</div>
